{% extends "base.html" %}
{% from "transactions/form.html" import transaction_form %}

{% block title %}Yeni İşlem{% endblock %}

{% block content %}
<div class="flex flex-col gap-6">
  <div class="flex justify-between items-center mb-4">
    <h1 class="text-2xl font-bold">Yeni İşlem Ekle</h1>
    <a href="{{ url_for('index') }}" class="inline-flex items-center gap-2 px-2 py-1 rounded-md bg-primary/10 text-primary hover:bg-primary/20 transition">
      {% include 'icons/back.svg' %}
      Geri Dön
    </a>
  </div>

  <div class="bg-card rounded-xl shadow p-6">
    {{ transaction_form(url_for('add_transaction'), categories=categories, tags=tags, today=today) }}
  </div>
</div>
{% endblock %}

{% block scripts %}
<script>
document.addEventListener('DOMContentLoaded', function() {
    // Set the date input value using JavaScript to ensure correct rendering
    const dateInput = document.getElementById('date');
    const todayValue = dateInput.value; // Get the value set by Jinja
    if (dateInput && todayValue) {
        dateInput.value = todayValue;
    }
});
</script>
{% endblock %} 